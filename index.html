<!DOCTYPE html>
<html lang="en">
<head>
	<title>Diagnóstico de Produtividade Financeira</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1">
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="dist/jquery.convform.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>
	<section id="demo">
	    <div class="vertical-align">
	        <div class="container">
	            <div class="row">
	                <div class="">
	                    <div class="card no-border">
	                        <div id="chat" class="conv-form-wrapper">
	                            <form action="" method="GET" class="hidden">
	                                <select data-conv-question="Olá!
									Meu nome é Renan, especialista em produtividade do Superlógica. Sou responsável por fazer com empresas como a sua otimizem seus processos de gestão de forma prática e eficiente!
									
									Gostaria que eu fizesse o diagnóstico da sua empresa?
									
									Garanto que vai ser rápido e extremamente valioso para você analisar, mensurar e aprimorar todo o potencial de produtividade nos processos financeiros do seu negócio.
									
									Antes de começarmos, vou te pedir alguns dados para que possamos prosseguir, tudo bem?
									
									" name="first-question">
	                                    <option value="yes">Claro, vamos lá!</option>
	                                </select>
	                                <input type="text" name="name" data-conv-question="Primeiramente, o mais importante: Qual é o seu nome?">
									<input type="text" data-conv-question="Muito prazer, {name}:0! Vou te fazer algumas perguntas e analisá-las. Ao final, te enviarei o diagnóstico completo por e-mail, ok?" data-no-answer="true">
									<input data-conv-question="E por falar nisso, qual é seu e-mail?" data-pattern="^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$" id="email" type="email" name="email" required placeholder="Qual é o seu e-mail?">
									<select data-conv-question="Muito obrigado, {name}:0! Agora já estamos prontos para começar. Vamos lá?" name="start">
	                                    <option value="yes">Começar meu diagnóstico!</option>
									</select>
									<input data-conv-question="Quantos clientes ativos sua empresa possui? (Informe apenas números! Exemplo: 4)" data-pattern="^[0-9]*$" id="qtdClientes" type="text" name="qtdClientes" required placeholder="Quantos clientes ativos sua empresa possui? (Informe apenas números! Exemplo: 4)">
									<input data-conv-question="Quantos profissionais dedicados a cobranças você possui? (Informe apenas números! Exemplo: 2)" data-pattern="^[0-9]*$" id="qtdFuncionarios" type="text" name="qtdFuncionarios" required placeholder="Quantos profissionais dedicados a cobranças você possui? (Informe apenas números! Exemplo: 2)">
									<input data-conv-question="Qual é o valor total da folha de pagamento do seu time financeiro? (Informe apenas números! Exemplo: 10.000.00)" data-pattern="^[0-9]*$" id="qtdFolha" type="text" name="qtdFolha" required placeholder="Qual é o valor total da folha de pagamento do seu time financeiro? (Informe apenas números! Exemplo: 10.000.00)">

								
									<select name="programmer" data-conv-question="Sua empresa trabalha com serviços recorrentes ou cobra através de mensalidade?">
	                                    <option value="yes">Sim</option>
	                                    <option value="no">Não</option>
									</select>
	                                <div data-conv-fork="programmer">
	                                    <div data-conv-case="yes">
	                                        <select name="multi[]" data-conv-question="Como você recebe de seus clientes? (múltipla escolha)" multiple>
												<option value="Rock">Boleto bancário</option>
												<option value="Pop">Cartão de crédito</option>
												<option value="Country">Cartão de débito</option>
												<option value="Classic">Débito automático em conta</option>
												<option value="Outros">Outros</option>
											</select>
	                                    </div>
	                                    <div data-conv-case="no">
		                                    <select name="thought" data-conv-question="Have you ever thought about learning? Programming is fun!">
		                                    	<option value="yes">Yes</option>
		                                    	<option value="no">No..</option>
		                                    </select>
	                                    </div>
	                                </div>
	                                
	                                <input type="text" data-conv-question="convForm also supports regex patterns. Look:" data-no-answer="true">
	                                <input data-conv-question="Type in your e-mail" data-pattern="^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$" id="email" type="email" name="email" required placeholder="What's your e-mail?">
	                                <input data-conv-question="Now tell me a secret (like a password)" type="password" data-minlength="6" id="senha" name="password" required placeholder="password">
									<select data-conv-question="Selects also support callback functions. For example, try one of these:">
											<option value="google" data-callback="google">Google</option>
											<option value="bing" data-callback="bing">Bing</option>
									</select>
	                                <select name="callbackTest" data-conv-question="You can do some cool things with callback functions. Want to rollback to the 'programmer' question before?">
	                                    <option value="yes" data-callback="rollback">Yes</option>
	                                    <option value="no" data-callback="restore">No</option>
	                                </select>
	                                <select data-conv-question="This is it! If you like me, consider donating! If you need support, contact me. When the form gets to the end, the plugin submits it normally, like you had filled it." id="">
	                                    <option value="">Awesome!</option>
	                                </select>
	                            </form>
	                        </div>
	                    </div>
	                </div>
	            </div>
	        </div>
	    </div>
	</section>
	<script type="text/javascript" src="jquery-1.12.3.min.js"></script>
	<script type="text/javascript" src="dist/autosize.min.js"></script>
	<script type="text/javascript" src="dist/jquery.convform.js"></script>

	<script>
		function google(stateWrapper, ready) {
			window.open("https://google.com");
			ready();
		}
		function bing(stateWrapper, ready) {
			window.open("https://bing.com");
			ready();
		}
		var rollbackTo = false;
		var originalState = false;
		function storeState(stateWrapper, ready) {
			rollbackTo = stateWrapper.current;
			console.log("storeState called: ",rollbackTo);
			ready();
		}
		function rollback(stateWrapper, ready) {
			console.log("rollback called: ", rollbackTo, originalState);
			console.log("answers at the time of user input: ", stateWrapper.answers);
			if(rollbackTo!=false) {
				if(originalState==false) {
					originalState = stateWrapper.current.next;
						console.log('stored original state');
				}
				stateWrapper.current.next = rollbackTo;
				console.log('changed current.next to rollbackTo');
			}
			ready();
		}
		function restore(stateWrapper, ready) {
			if(originalState != false) {
				stateWrapper.current.next = originalState;
				console.log('changed current.next to originalState');
			}
			ready();
		}
	</script>
	<script>
		jQuery(function($){
			convForm = $('#chat').convform({selectInputStyle: 'disable'});
			console.log(convForm);
		});
	</script>
</body>
</html>